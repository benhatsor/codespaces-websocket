{
	"name": "Codespaces and Websockets",
	"build": {
		"dockerfile": "Dockerfile",
		"context": "..",
		"args": { "VARIANT": "3" }
	},

	"extensions": [
		"ms-python.python"
	],

	"features": {
		"github-cli": "latest"
	 },

	"portsAttributes": {
		"3000": {
			"label": "Webserver",
			//"onAutoForward": "notify"
			"onAutoForward": "ignore"
		}
	},

	"postCreateCommand": "pip3 install -r requirements.txt && gh codespace ports forward 3000:3000 -c $CODESPACE_NAME && gh codespace ports visibility 3000:public -c $CODESPACE_NAME",
	"postStartCommand": "python server.py $CODESPACE_NAME",
	
	"remoteUser": "vscode"
}
